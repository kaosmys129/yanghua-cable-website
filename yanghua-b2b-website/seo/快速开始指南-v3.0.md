# SEO检测快速开始指南 v3.0
## 3分钟完成现有配置检测

---

## 🎯 核心目标

**检测现有的SEO配置** → 发现问题 → 告诉你如何修复

---

## ⚡ 3分钟快速开始

### Step 1: 安装检测工具

```bash
cd yanghua-b2b-website

npm install seo-analyzer node-html-parser --save-dev
```

---

### Step 2: 添加检测脚本

```bash
# 1. 创建目录
mkdir -p scripts

# 2. 复制脚本
cp seo-diagnosis.js scripts/
```

**在 package.json 中添加**:
```json
{
  "scripts": {
    "diagnose:seo": "node scripts/seo-diagnosis.js"
  }
}
```

---

### Step 3: 运行检测

```bash
npm run diagnose:seo
```

**示例输出**:
```
🔍 [1/5] 检测 robots.txt...
  ✓ 找到 public/robots.txt
  ✓ User-agent声明 存在
  ❌ 检测到 Disallow: / - 这会阻止所有搜索引擎！

🔍 [2/5] 检测 Sitemap...
  ✓ 找到 public/sitemap.xml
  ℹ️  包含 45 个URL
  ✓ URL格式正确

🔍 [3/5] 检测 Metadata 配置...
  检查: https://www.yhflexiblebusbar.com/en
    Title: "Yanghua Flexible Busbar"
    ❌ 缺少 meta description

═══════════════════════════════════════════════════════
SEO 配置诊断报告
═══════════════════════════════════════════════════════

📊 总体概况:
  🔴 严重问题: 2
  🟡 警告: 5
  💡 建议: 3

📄 详细报告已保存: seo-reports/diagnosis-2025-10-26.json
📄 Markdown报告已保存: seo-reports/diagnosis-2025-10-26.md
```

---

## 📋 查看详细报告

```bash
# 查看Markdown报告
cat seo-reports/diagnosis-*.md

# 或使用编辑器
code seo-reports/diagnosis-*.md
```

---

## 🔴 最常见的问题和修复

### 问题 1: robots.txt 阻止爬虫

**诊断输出**:
```
❌ 检测到 Disallow: / - 这会阻止所有搜索引擎！
```

**快速修复**:
```bash
# 编辑 public/robots.txt
nano public/robots.txt

# 修改这行:
Disallow: /    →    Allow: /
```

**验证**:
```bash
curl https://www.yhflexiblebusbar.com/robots.txt
```

---

### 问题 2: 缺少 meta description

**诊断输出**:
```
❌ 缺少 meta description
```

**快速修复**:

编辑 `src/app/[locale]/layout.tsx`:

```typescript
export async function generateMetadata({ params }) {
  return {
    title: 'Yanghua Flexible Busbar',
    description: 'Leading manufacturer of flexible busbar systems', // ← 添加这行
    // ...
  }
}
```

---

### 问题 3: sitemap 为空

**诊断输出**:
```
❌ public/sitemap.xml 不包含任何URL
```

**快速检查**:
```bash
# 1. 查看sitemap内容
cat public/sitemap.xml

# 2. 如果使用动态sitemap
cat src/app/sitemap.ts

# 3. 重新构建
npm run build
```

---

### 问题 4: 缺少 hreflang

**诊断输出**:
```
⚠️ 缺少 hreflang 链接
```

**快速修复**:

在 `generateMetadata` 中添加:

```typescript
export async function generateMetadata({ params }) {
  return {
    // ... 其他配置
    alternates: {
      languages: {
        'en': 'https://www.yhflexiblebusbar.com/en',
        'es': 'https://www.yhflexiblebusbar.com/es',
        'x-default': 'https://www.yhflexiblebusbar.com/en'
      }
    }
  }
}
```

---

## ✅ 修复验证流程

### 1. 本地验证

```bash
# 重新构建
npm run build

# 启动本地服务
npm start

# 访问关键URL
curl http://localhost:3000/robots.txt
curl http://localhost:3000/sitemap.xml
```

### 2. 重新诊断

```bash
# 再次运行检测
npm run diagnose:seo

# 应该看到问题减少
🔴 严重问题: 0  ← 目标
```

### 3. 部署后验证

```bash
# 检查生产环境
curl https://www.yhflexiblebusbar.com/robots.txt
curl https://www.yhflexiblebusbar.com/sitemap.xml
```

---

## 🎯 成功标准

运行 `npm run diagnose:seo` 后应该看到：

```
✅ robotsTxt: PASS
✅ sitemap: PASS
✅ metadata: PASS
✅ hreflang: PASS
✅ structuredData: PASS (或 WARN)

📊 总体概况:
  🔴 严重问题: 0      ← 目标达成！
  🟡 警告: < 3        ← 可接受
  💡 建议: 任意数量   ← 可选优化
```

---

## 📅 下一步

### 立即行动

1. 修复所有 ❌ 严重问题
2. 重新构建并部署
3. 在Google Search Console中请求索引

### 持续监控

```bash
# 每周运行一次
npm run diagnose:seo

# 或设置定时任务
crontab -e
# 添加: 0 9 * * 1 cd /path/to/project && npm run diagnose:seo
```

---

## 🆘 需要帮助？

### 查看完整文档

[SEO检测与修复方案-v3.0.md](./SEO检测与修复方案-v3.0.md)

### 常见问题

**Q: 脚本运行失败？**
```bash
# 检查依赖
npm list seo-analyzer node-html-parser

# 重新安装
npm install --save-dev
```

**Q: 无法访问在线页面？**
```bash
# 使用本地URL测试
NEXT_PUBLIC_SITE_URL=http://localhost:3000 npm run diagnose:seo
```

**Q: 报告在哪里？**
```bash
ls -la seo-reports/
cat seo-reports/diagnosis-*.md
```

---

## 📊 预期时间线

| 时间 | 动作 | 预期结果 |
|------|------|---------|
| **今天** | 运行诊断 + 修复严重问题 | 严重问题 = 0 |
| **第2天** | 部署 + 提交GSC | GSC显示验证成功 |
| **第3-7天** | 监控GSC | Google开始爬取 |
| **第7-14天** | 持续监控 | 首页被索引 |

---

**版本**: v3.0  
**重点**: 检测现有配置  
**时间**: 3分钟完成检测
