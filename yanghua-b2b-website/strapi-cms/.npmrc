# NPM Configuration for SWC native binding compatibility
# Enhanced configuration for Node.js v22 support

# Force rebuild of native modules
rebuild=true

# Configure for Linux platform (Strapi Cloud environment)
target_platform=linux
target_arch=x64

# SWC specific registry configuration
@swc:registry=https://registry.npmjs.org/

# Timeout and retry configuration
fetch-timeout=300000
fetch-retries=3

# Disable optional dependencies that might cause native binding issues
optional=false

# Additional SWC compatibility settings
force=true
legacy-peer-deps=true

# Node.js v22 compatibility
node-options=--max-old-space-size=4096